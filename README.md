# Customer Registration & Email Verification

## Overview
Small Spring Boot app that provides an endpoint to register a customer and perform an asynchronous identity verification with a mock third-party service.

Key features:
- Java 17, Spring Boot, Spring Data JPA (Hibernate)
- In-memory H2 DB
- REST endpoint: `POST /customers`
- Input validation (Jakarta Validation)
- Asynchronous background identity verification that updates `verificationStatus` in the customers table
- Outbound HTTP call to a mock verification service (Postman mock server)

## Requirements
- Java 17+
- Gradle

## Setup
1. Build:
   ```bash
   ./gradlew build
2. Run tests:
    ```bash
   ./gradlew test


## Room for improvements
1. Normalize the customers table: customers and verification status:
   ```sql
   CREATE TABLE customers
   (
       id                  BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
       first_name          VARCHAR(256)        NOT NULL,
       last_name           VARCHAR(256)        NOT NULL,
       email               VARCHAR(256) UNIQUE NOT NULL,
   );

    CREATE TABLE customer_verifications (
        id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        customer_id BIGINT NOT NULL,
        status VARCHAR(50) NOT NULL,
        updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (customer_id) REFERENCES customers(id)
    );
    ```
   In case, we need the historical verification data, how the verification status is changing and when.
In that scenario, it is good idea to split the customers table to the customers and customer_verifications. 
However, there're pros and cons: 

